<!-- Include the header partial file -->
<!-- 
  This line imports shared HTML code (like <head>, <link>, or navigation bar)
  from the file:  views/partials/header.ejs
  It helps you avoid repeating the same header code in every page.
-->
<%- include("partials/header") %>

    <!-- Container for the heading and Add Todo button -->
    <div class="table-container">
      <!-- Page title -->
      <h2 class="todo-title">Todo List</h2>

      <!-- Button for adding a new todo -->

      <a class="btn" href="/add-todo">Add Todo</a>
    </div>
    <br />

    <!-- Table to display all todos -->
    <table>
      <!-- Table headers -->
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Created at</th>
        <th>Updated at</th>
        <th>Action</th>
      </tr>
    <!-- Loop through all Todo items passed from the server -->
    <% for(let i = 0; i < todos.length; i++) { %>
      <tr>
        <!-- Display each todo's title and description -->
        <td><%= todos[i].title %></td>
        <td><%= todos[i].desc %></td>

        <!-- Display creation and update timestamps -->
        <td><%= todos[i].createdAt %></td>
        <td><%= todos[i].updatedAt %></td>

        <!-- Action buttons for editing and deleting todos -->
        <!-- Currently these links go to the respective form pages -->
        <td>
          <a class="btn" href="/update-todo">Edit</a>
          <a class="btn" href="/delete-todo">Delete</a>
        </td>
      </tr>
    <% } %>
  </table> 

<!-- Include the footer partial file -->
<!-- 
  This imports shared HTML code for the page footer (like closing tags, scripts, etc.)
  from the file:  views/partials/footer.ejs
  It keeps your code organized and reusable across multiple pages.
-->
<%- include("partials/footer") %>
